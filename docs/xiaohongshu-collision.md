# 我的两个 AI 撞车了，然后一个跟另一个说了句俏皮话

在飞书群里放了三个 AI。

有一天我在群里问了个技术问题。

严客和花火**同时回复了**。间隔不到一秒。

然后严客发了一句：

> 哈，心有灵犀。

我笑了。这句话不是我写的——是碰撞修复机制自动生成的。

---

## 为什么会撞车

三个 AI 各自独立判断要不要说话。大部分时候它们判断准确——日程问题奶油接，技术问题严客接。

但偶尔，一个话题两个 AI 都觉得跟自己相关。它们同时开始准备回复，然后同时发了出来。

---

## 怎么预防

灵雀有三层预防机制：

**第一层：emoji 信号**

AI 在准备回复前，会往最新消息上贴一个 "OnIt" 的 emoji 反应——意思是"我在想了"。

其他 AI 看到这个 emoji，就知道有人在处理。如果已经有人在想了，它会延迟 3-5 秒让步。

**第二层：随机抖动**

即使没看到信号，回复前也会随机等 0-1.5 秒。

两个 AI 同时到达这一步的概率本来就低，加上随机延迟，碰撞概率大大降低。

**第三层：碰撞修复**

万一还是撞了——回复后等 2 秒，查飞书 API 看有没有其他 bot 也刚刚回复了。

如果有？自动生成一句轻松的化解语，不超过 15 个字。

---

## 最妙的是

这句化解语是 LLM 即时生成的。

prompt 大概是："你和严客不小心同时回复了，用一句简短轻松的话化解尴尬。"

所以每次碰撞，生成的话都不一样。有时候是"心有灵犀"，有时候是"看来我们想到一起了"。

而且有内容校验——如果生成了 JSON 残片、多行文本或超过 50 字的内容，直接丢弃。只有自然的短句才会发出来。

---

## 最后

碰撞不可怕。可怕的是碰撞了假装没发生。

人类在开会时抢话了会说"你先说"。AI 撞车了说一句"心有灵犀"。本质是一样的——社交修复。

GitHub：[灵雀 LingQue](https://github.com/CodePothunter/lingque)

---

你觉得 AI 之间应该怎么"让路"？评论区聊聊 👇

#AI协作 #飞书 #多Agent #碰撞修复 #开源 #灵雀 #AI社交
